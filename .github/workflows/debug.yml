name: Debug Bot
on: workflow_dispatch

jobs:
  debug:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ Checkout code
        uses: actions/checkout@v4
      
      - name: ğŸ“ List all files
        run: |
          echo "=== File Structure ==="
          find . -type f -name "*.py" -o -name "*.txt" -o -name "*.yml" | sort
          echo ""
          echo "=== Python Script ==="
          cat src/breaking_news_bot.py 2>/dev/null || echo "No src/breaking_news_bot.py found"
      
      - name: ğŸ Check Python
        run: |
          echo "Python version:"
          python --version
          echo ""
          echo "Python path:"
          which python
      
      - name: ğŸ“¦ Check requirements
        run: |
          echo "=== Requirements.txt ==="
          if [ -f requirements.txt ]; then
            cat requirements.txt
          else
            echo "requirements.txt not found!"
          fi
      
      - name: ğŸ”§ Test imports
        run: |
          echo "=== Testing imports ==="
          python -c "import feedparser; import requests; print('âœ… All imports work')"
